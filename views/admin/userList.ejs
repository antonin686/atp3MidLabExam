<div class="bread">
  <div class="container">
    <ol class="breadcrumb pd-3">
      <li class="breadcrumb-item"><a href="/admin/home">Dashboard</a></li>
      <li class="breadcrumb-item"><a href="/admin/user">User</a></li>
    </ol>
  </div>
</div>

<div class="container">
  <div class="p-3">
    <a class="btn btn-primary" href="/admin/user/create" role="button">Add User</a>
  </div>
  <div class="row">

    <div class="col-md-12">

      <div class="card card-body">

        <div class="col-md-6 mx-auto">
          <div class="input-group mb-3">
            <input type="text" class="form-control" id="myInput" placeholder="name">
          </div>
        </div>
        <table id="myTable" class="table">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Name</th>
              <th scope="col">Contact</th>
              <th scope="col">Username</th>
              <th scope="col">User Type</th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            <% for(var i = 0; i< empList.length; i++) {%>
            <tr>
              <th scope="row"> <%= empList[i].u_id %> </th>
              <td> <%= empList[i].u_name %></td>
              <td> <%= empList[i].contact %> </td>
              <td> <%= empList[i].username %> </td>
              <td> <%= empList[i].u_type %> </td>
              <% if( empList[i].u_type != 1 ) {%>
              <td class="ml-auto">
                <a class="btn btn-info" href="/admin/user/edit/<%= empList[i].u_id %>" role="button">Edit</a>
                <a class="btn btn-danger" href="/admin/user/delete/<%= empList[i].u_id %>" role="button">Delete</a>
              </td>
              <% } %>
            </tr>
            <% } %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>


<script>
  $(document).ready(function () {

    $("#myInput").keyup(function () {
     tableFilter();
    });

    function tableFilter() {
      var input, filter, table, tr, td, i, txtValue;
      input = document.getElementById("myInput");
      filter = input.value.toUpperCase();
      table = document.getElementById("myTable");
      tr = table.getElementsByTagName("tr");
      for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[0];
        if (td) {
          console.log('td ', td)
          txtValue = td.textContent || td.innerText;
          console.log('txt ', txtValue)
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = "";
          } else {
            tr[i].style.display = "none";
          }
        }
      }
    }

  });
</script>